--Æô¶¯Õ½³µ

--************************************************************************
--MisDescBegin

-- ½Å±¾ºÅ
x600051_g_ScriptId = 600051

-- Møc tiêu nhi®m vø NPC
x600051_g_Name = "Th¥n Khê"
x600051_g_Name2 = "Ð°ng Thanh"

----°ïÕ½Êý¾ÝË÷Òý,¶ÔÓ¦³ÌÐòÖÐtoÕ ðµ  enum GUILDWAR_INT_ARRAY
--x600051_g_A_LingShiIndex = 2
--x600051_g_B_LingShiIndex = 7
--
--x600051_g_LingShi = {"Thanh Long thÕch","BÕch H± thÕch","Chu Tß¾c thÕch","Huy«n Vû thÕch","Bàn C± thÕch"}		--LinhÊ¯Tên
--x600051_g_LingShiID = {30603001,30603002,30603003,30603004,30603005}	--LinhÊ¯ID

--°ïÕ½¸±±¾½Å±¾
--x600051_g_BangzhanScriptId	= 402047

x600051_g_TankBuff = {31577, 31578, 31579, 31580, 31581,	--ò¿ÓÈ¼ÝÊ»buff
											31582, 31583, 31584, 31585, 31586}	--Ñ×»Æ¼ÝÊ»buff

x600051_g_AttrBuff = {31567, 31568, 31569, 31570, 31571,	--ò¿ÓÈÕ½³µbuff
											31572, 31573, 31574, 31575, 31576}	--Ñ×»ÆÕ½³µbuff

x600051_g_A_TankID = {13339, 13340, 13341, 13342, 13343}--¿É ði¬m»÷Õ½³µNPCtoÕ ðµ ID
x600051_g_B_TankID = {13334, 13335, 13336, 13337, 13338}--¿É ði¬m»÷Õ½³µNPCtoÕ ðµ ID

x600051_g_ImmuneControlBuff = 10474							--NPCÃâÒß¿ØÖÆbuff

x600051_g_Msg = {"#{BHXZ_081103_28}",
								"#{BHXZ_081103_29}",
								"#{BHXZ_081103_30}",
								"#{BHXZ_081103_31}",
								"#{BHXZ_081103_32}"}

x600051_g_TankName = {"Thanh Long chiªn xa","BÕch H± chiªn xa","Chu Tß¾c chiªn xa","Huy«n Vû chiªn xa","Bàn C± chiªn xa"}

x600051_g_A_FirstTankManSelfID = 13						--A°ï±ä»¯³ÉÕ½³µtoÕ ðµ Íæ¼ÒtoÕ ðµ selfidTÕi 32cái¸±±¾Êý¾ÝÖÐtoÕ ðµ Ë÷Òý
x600051_g_A_SecondTankManSelfID = 14					--A°ï±ä»¯³ÉÕ½³µtoÕ ðµ Íæ¼ÒtoÕ ðµ selfidTÕi 32cái¸±±¾Êý¾ÝÖÐtoÕ ðµ Ë÷Òý
x600051_g_B_FirstTankManSelfID = 15						--B°ï±ä»¯³ÉÕ½³µtoÕ ðµ Íæ¼ÒtoÕ ðµ selfidTÕi 32cái¸±±¾Êý¾ÝÖÐtoÕ ðµ Ë÷Òý
x600051_g_B_SecondTankManSelfID = 16					--B°ï±ä»¯³ÉÕ½³µtoÕ ðµ Íæ¼ÒtoÕ ðµ selfidTÕi 32cái¸±±¾Êý¾ÝÖÐtoÕ ðµ Ë÷Òý
x600051_g_A_FirstTankBuff = 17								--A°ï±ä»¯³ÉÕ½³µtoÕ ðµ BuffIDTÕi 32cái¸±±¾Êý¾ÝÖÐtoÕ ðµ Ë÷Òý
x600051_g_A_SecondTankBuff = 18								--A°ï±ä»¯³ÉÕ½³µtoÕ ðµ BuffIDTÕi 32cái¸±±¾Êý¾ÝÖÐtoÕ ðµ Ë÷Òý
x600051_g_B_FirstTankBuff = 19								--B°ï±ä»¯³ÉÕ½³µtoÕ ðµ BuffIDTÕi 32cái¸±±¾Êý¾ÝÖÐtoÕ ðµ Ë÷Òý
x600051_g_B_SecondTankBuff = 20								--B°ï±ä»¯³ÉÕ½³µtoÕ ðµ BuffIDTÕi 32cái¸±±¾Êý¾ÝÖÐtoÕ ðµ Ë÷Òý
x600051_g_A_FirstTankPos = 21									--A°ï±ä»¯³ÉÕ½³µtoÕ ðµ PosTÕi 32cái¸±±¾Êý¾ÝÖÐtoÕ ðµ Ë÷Òý
x600051_g_A_SecondTankPos = 22								--A°ï±ä»¯³ÉÕ½³µtoÕ ðµ PosTÕi 32cái¸±±¾Êý¾ÝÖÐtoÕ ðµ Ë÷Òý
x600051_g_B_FirstTankPos = 23									--B°ï±ä»¯³ÉÕ½³µtoÕ ðµ PosTÕi 32cái¸±±¾Êý¾ÝÖÐtoÕ ðµ Ë÷Òý
x600051_g_B_SecondTankPos = 24								--B°ï±ä»¯³ÉÕ½³µtoÕ ðµ PosTÕi 32cái¸±±¾Êý¾ÝÖÐtoÕ ðµ Ë÷Òý
x600051_g_A_TankColdTime = 25									--A°ïÕ½³µÀäÈ´Ê±¼äTÕi 32cái¸±±¾Êý¾ÝÖÐtoÕ ðµ Ë÷Òý
x600051_g_B_TankColdTime = 26									--B°ïÕ½³µÀäÈ´Ê±¼äTÕi 32cái¸±±¾Êý¾ÝÖÐtoÕ ðµ Ë÷Òý

--MisDescEnd
--************************************************************************

--**********************************
-- ÈÎÎñÈë¿Úº¯Êý
--**********************************
function x600051_OnDefaultEvent( sceneId, selfId, targetId )	--  ði¬m»÷¸ÃÈÎÎñºóÖ´ÐÐ´Ë½Å±¾
----	if GetName( sceneId, targetId ) ~= x600051_g_Name then		-- ÅÐ¶Ï¸ÃnpcÐúng·ñÐúng¶ÔÓ¦ÈÎÎñtoÕ ðµ npc
----		return
----	end
	
	local numText = GetNumText()
	
	local isAguild = 0
	local base = 0
	local name = GetName(sceneId, targetId)
	if name == x600051_g_Name then
		isAguild = 1
		base = 5
	elseif name == x600051_g_Name2 then
		isAguild = 0
		base = 0
	else
		return
	end
	
	if numText == 1 or numText == 2 or numText == 3 or numText == 4 or numText == 5 then
		--Èç¹ûÂúÁËÖ±½ÓÌáÊ¾2Á¾
		local ExchangeManIndex = x600051_FindTankManIndex( sceneId, isAguild, numText-6+base  )
		if not ExchangeManIndex or ExchangeManIndex == 0 then
			x600051_NotifyFailBox( sceneId, selfId, targetId, "#{BHXZ_081103_118}" )
			return
		end
		
--		--´æTÕi Í¬ÑùÀàÐÍtoÕ ðµ Õ½³µÁË
--		if ExchangeManIndex == -1 then
--			x600051_NotifyFailBox( sceneId, selfId, targetId, "#{BHXZ_081103_119}" )
--			return 0
--		end
		
		BeginEvent(sceneId)
			AddText(sceneId, x600051_g_Msg[numText])
			AddNumText(sceneId, x600051_g_ScriptId, "Xác nh§n", 8, numText+6 )
			AddNumText(sceneId, x600051_g_ScriptId, "HuÖ bö", 8, 6 )
		EndEvent(sceneId)
		DispatchEventList(sceneId,selfId,targetId)
	elseif numText == 6 then
		BeginUICommand( sceneId )
			UICommand_AddInt( sceneId, targetId )
		EndUICommand( sceneId )
		DispatchUICommand( sceneId, selfId, 1000 )
	elseif numText == 7 or numText == 8 or numText == 9 or numText == 10 or numText == 11 then
		x600051_PowerUptank( sceneId, selfId, targetId, numText-6+base, isAguild, 1 )
	end
end

--**********************************
-- ÁÐ¾ÙÊÂ¼þ
--**********************************
function x600051_OnEnumerate( sceneId, selfId, targetId )
--	if GetName( sceneId, targetId ) ~= x600051_g_Name then		--ÅÐ¶Ï¸ÃnpcÐúng·ñÐúng¶ÔÓ¦ÈÎÎñtoÕ ðµ npc
--		return
--	end
	
	AddNumText( sceneId, x600051_g_ScriptId, x600051_g_TankName[1], 4, 1 )
	AddNumText( sceneId, x600051_g_ScriptId, x600051_g_TankName[2], 4, 2 )
	AddNumText( sceneId, x600051_g_ScriptId, x600051_g_TankName[3], 4, 3 )
	AddNumText( sceneId, x600051_g_ScriptId, x600051_g_TankName[4], 4, 4 )
	AddNumText( sceneId, x600051_g_ScriptId, x600051_g_TankName[5], 4, 5 )
end

--**********************************
-- Æô¶¯Õ½³µ
--**********************************
function x600051_PowerUptank( sceneId, selfId, targetId, SelectTankType, isA, isAdd )

	--Ðúng·ñÐúng¸±±¾
	local sceneType = LuaFnGetSceneType( sceneId )
	if sceneType ~= 1 then
		x600051_NotifyFailBox( sceneId, selfId, targetId, "#{BHXZ_081103_78}" )
		return 0
	end
	
	--Ðúng·ñÐúngËùC¥n toÕ ðµ ¸±±¾
	local fubentype = LuaFnGetCopySceneData_Param( sceneId, 0 )
	if fubentype ~= FUBEN_BANGZHAN then
		x600051_NotifyFailBox( sceneId, selfId, targetId, "#{BHXZ_081103_78}" )
		return 0
	end
	
	--Ðúng·ñ¿ªÊ¼°ïÕ½»ý·Ö
	if LuaFnGetCopySceneData_Param( sceneId, 7 ) == 0 then
		x600051_NotifyFailBox( sceneId, selfId, targetId, "#{BHXZ_081103_26}" )
		return 0
	end
	
	local TankManFirst = 0
	local TankManSecond = 0
	if isA == 1 then
		TankManFirst = LuaFnGetCopySceneData_Param( sceneId, x600051_g_A_FirstTankManSelfID )
		TankManSecond = LuaFnGetCopySceneData_Param( sceneId, x600051_g_A_SecondTankManSelfID )
	else
	 	TankManFirst = LuaFnGetCopySceneData_Param( sceneId, x600051_g_B_FirstTankManSelfID )
		TankManSecond = LuaFnGetCopySceneData_Param( sceneId, x600051_g_B_SecondTankManSelfID )
	end
	
	if (TankManFirst == selfId and CallScriptFunction(402047, "HaveTankBuff", sceneId, selfId) ~= 0)
	or (TankManSecond == selfId and CallScriptFunction(402047, "HaveTankBuff", sceneId, selfId) ~= 0) then
		x600051_NotifyFailBox( sceneId, selfId, targetId, "#{BHXZ_081103_155}" )
		return 0
	end
	
	if LuaFnIsModelOrMount(sceneId, selfId) == 1 then
		x600051_NotifyFailBox( sceneId, selfId, targetId, "#{BHXZ_081208_1}" )
		return 0
	end
	
	local ExchangeManIndex = 0
	if isAdd == 1 then
		ExchangeManIndex = x600051_FindTankManIndex( sceneId, isA, SelectTankType  )
	else
		ExchangeManIndex = x600051_FindEmptyTankManIndex( sceneId, selfId, isA )
	end
	
	local ColdTime = 0
	if isA == 1 then
		ColdTime = LuaFnGetCopySceneData_Param( sceneId, x600051_g_A_TankColdTime )
	else
		ColdTime = LuaFnGetCopySceneData_Param( sceneId, x600051_g_B_TankColdTime )
	end
	
	--´ÓÕ½³µ»¤ÎÀÄÇÀï¿ªtoÕ ðµ Õ½³µÒªÅÐ¶ÏÀäÈ´Ê±¼äÐúng·ñµ½ÁË
	if ColdTime > 0 and isAdd == 1 then
		x600051_NotifyFailBox( sceneId, selfId, targetId, "    #{BHXZ_081103_129}"..ColdTime.."#{BHXZ_081103_156}" )
		return 0
	end
	
	--ÕÒ²»µ½ºÏÊÊtoÕ ðµ ·ÅÈëselfIdtoÕ ðµ Î»ÖÃ¾ÍÐúngÂúÁË
	if not ExchangeManIndex or ExchangeManIndex == 0 then
		x600051_NotifyFailBox( sceneId, selfId, targetId, "#{BHXZ_081103_118}" )
		return 0
	end
	
	--´æTÕi Í¬ÑùÀàÐÍtoÕ ðµ Õ½³µÁË
	if ExchangeManIndex == -1 then
		x600051_NotifyFailBox( sceneId, selfId, targetId, "#{BHXZ_081103_119}" )
		return 0
	end
	
	LuaFnSendSpecificImpactToUnit(sceneId, selfId, selfId, selfId, x600051_g_TankBuff[SelectTankType], 0 )
	LuaFnSendSpecificImpactToUnit(sceneId, selfId, selfId, selfId, x600051_g_AttrBuff[SelectTankType], 0 )
	LuaFnSendSpecificImpactToUnit(sceneId, selfId, selfId, selfId, x600051_g_ImmuneControlBuff, 0 )
	LuaFnCancelMoveSpeedBuff(sceneId, selfId)
	LuaFnSetCopySceneData_Param( sceneId, ExchangeManIndex, selfId )--±£´æ±ä»»Õ½³µtoÕ ðµ Íæ¼ÒselfId
	LuaFnSetCopySceneData_Param( sceneId, ExchangeManIndex-x600051_g_A_FirstTankManSelfID+x600051_g_A_FirstTankBuff, x600051_g_AttrBuff[SelectTankType] )--±£´æÕ½³µbuffid
	local PosX,PosZ = GetWorldPos(sceneId, selfId)
	PosX = floor(PosX)
	PosZ = floor(PosZ)
	LuaFnSetCopySceneData_Param( sceneId, ExchangeManIndex-x600051_g_A_FirstTankManSelfID+x600051_g_A_FirstTankPos, PosX*10000+PosZ )--±£´æ×ø±ê
	if 1 <= SelectTankType and SelectTankType <= 5 then
		Msg2Player(sceneId, selfId, "Ngß½i kh·i ðµng"..x600051_g_TankName[SelectTankType].."." , MSG2PLAYER_PARA)
	elseif 6 <= SelectTankType and SelectTankType <= 10 then
		Msg2Player(sceneId, selfId, "Ngß½i kh·i ðµng"..x600051_g_TankName[SelectTankType-5].."." , MSG2PLAYER_PARA)
	end
	
	BeginUICommand( sceneId )
		UICommand_AddInt( sceneId, targetId )
	EndUICommand( sceneId )
	DispatchUICommand( sceneId, selfId, 1000 )
	
	return 1
end

--**********************************
-- ÕÒµ½mµt cái¿ÉÒÔ·ÅÕ½³µÍæ¼ÒselfIdtoÕ ðµ ¸±±¾Ë÷Òý,ÓÐÊýÁ¿ÅÐ¶Ï
--**********************************
function x600051_FindTankManIndex( sceneId, IsAGuild, bufftype )
	
	local TankManFirst = 0
	local TankManSecond = 0
	local ExchangeManIndex = 0 --Õâ´ÎÒª±ä»¯³ÉÕ½³µtoÕ ðµ manTÕi ¸±±¾Êý¾ÝÖÐtoÕ ðµ Ë÷Òý
	
	if IsAGuild == 1 then
		TankManFirst = LuaFnGetCopySceneData_Param( sceneId, x600051_g_A_FirstTankManSelfID )
		TankManSecond = LuaFnGetCopySceneData_Param( sceneId, x600051_g_A_SecondTankManSelfID )
	else
	 	TankManFirst = LuaFnGetCopySceneData_Param( sceneId, x600051_g_B_FirstTankManSelfID )
		TankManSecond = LuaFnGetCopySceneData_Param( sceneId, x600051_g_B_SecondTankManSelfID )
	end
	
	local AalreadyTankCount = 0 --A°ï¶ªÆúTÕi ³¡¾°ÀïtoÕ ðµ Õ½³µÊýÁ¿
	local BalreadyTankCount = 0 --B°ï¶ªÆúTÕi ³¡¾°ÀïtoÕ ðµ Õ½³µÊýÁ¿
	local Abufftype = -1
	local Bbufftype = -1
	local nNpcNum = GetMonsterCount(sceneId)
	for i=0, nNpcNum-1 do
		local nNpcId = GetMonsterObjID(sceneId,i)
		local DataId = GetMonsterDataID(sceneId, nNpcId)
		for j = 1, getn( x600051_g_A_TankID ) do
			if DataId == x600051_g_A_TankID[j] then
				AalreadyTankCount = AalreadyTankCount + 1
				Abufftype = j
				break
			end
		end
		for j = 1, getn( x600051_g_B_TankID ) do
			if DataId == x600051_g_B_TankID[j] then
				BalreadyTankCount = BalreadyTankCount + 1
				Bbufftype = j
				break
			end
		end
	end
	--PrintStr("Abufftype "..Abufftype.." Bbufftype "..Bbufftype.." bufftype "..bufftype)
	
	--ÕÒmµt cáiË÷Òý³öÀ´
	if TankManFirst == 0 or (TankManFirst ~= 0 and CallScriptFunction(402047, "HaveTankBuff", sceneId, TankManFirst) == 0) then
		if IsAGuild == 1 then
			if AalreadyTankCount >= 2 then
				return 0
			end
			
			ExchangeManIndex = x600051_g_A_FirstTankManSelfID
			if TankManSecond ~= 0 and CallScriptFunction(402047, "HaveTankBuff", sceneId, TankManSecond) == x600051_g_AttrBuff[bufftype] then --ÒªÑ¡ÔñtoÕ ðµ Õ½³µÀàÐÍºÍÈËmµt ÖÂ
				ExchangeManIndex = -1
			end
			if Abufftype+5 == bufftype then --ÒªÑ¡ÔñtoÕ ðµ Õ½³µÀàÐÍºÍÒ°Íâ¶ªÆútoÕ ðµ Õ½³µÀàÐÍmµt ÖÂ
				ExchangeManIndex = -1
			end
			if AalreadyTankCount == 1 and (TankManSecond ~= 0 and CallScriptFunction(402047, "HaveTankBuff", sceneId, TankManSecond) ~= 0) then --1Íæ¼ÒºÍ1³¡¾°Õ½³µ
				ExchangeManIndex = 0
			end
		else
			if BalreadyTankCount >= 2 then
				return 0
			end
			
			ExchangeManIndex = x600051_g_B_FirstTankManSelfID
			if TankManSecond ~= 0 and CallScriptFunction(402047, "HaveTankBuff", sceneId, TankManSecond) == x600051_g_AttrBuff[bufftype] then --ÒªÑ¡ÔñtoÕ ðµ Õ½³µÀàÐÍºÍÈËmµt ÖÂ
				ExchangeManIndex = -1
			end
			if Bbufftype == bufftype then --ÒªÑ¡ÔñtoÕ ðµ Õ½³µÀàÐÍºÍÒ°Íâ¶ªÆútoÕ ðµ Õ½³µÀàÐÍmµt ÖÂ
				ExchangeManIndex = -1
			end
			if BalreadyTankCount == 1 and (TankManSecond ~= 0 and CallScriptFunction(402047, "HaveTankBuff", sceneId, TankManSecond) ~= 0) then --1Íæ¼ÒºÍ1³¡¾°Õ½³µ
				ExchangeManIndex = 0
			end
		end
	elseif TankManSecond == 0 or (TankManSecond ~= 0 and CallScriptFunction(402047, "HaveTankBuff", sceneId, TankManSecond) == 0) then
		if IsAGuild == 1 then
			if AalreadyTankCount >= 2 then
				return 0
			end
			
			ExchangeManIndex = x600051_g_A_SecondTankManSelfID
			if TankManFirst ~= 0 and CallScriptFunction(402047, "HaveTankBuff", sceneId, TankManFirst) == x600051_g_AttrBuff[bufftype] then --ÒªÑ¡ÔñtoÕ ðµ Õ½³µÀàÐÍºÍÈËmµt ÖÂ
				ExchangeManIndex = -1
			end
			if Abufftype+5 == bufftype then --ÒªÑ¡ÔñtoÕ ðµ Õ½³µÀàÐÍºÍÒ°Íâ¶ªÆútoÕ ðµ Õ½³µÀàÐÍmµt ÖÂ
				ExchangeManIndex = -1
			end
			if AalreadyTankCount == 1 and (TankManFirst ~= 0 and CallScriptFunction(402047, "HaveTankBuff", sceneId, TankManFirst) ~= 0) then --1Íæ¼ÒºÍ1³¡¾°Õ½³µ
				ExchangeManIndex = 0
			end
		else
			if BalreadyTankCount >= 2 then
				return 0
			end
			
			ExchangeManIndex = x600051_g_B_SecondTankManSelfID
			if TankManFirst ~= 0 and CallScriptFunction(402047, "HaveTankBuff", sceneId, TankManFirst) == x600051_g_AttrBuff[bufftype] then --ÒªÑ¡ÔñtoÕ ðµ Õ½³µÀàÐÍºÍÈËmµt ÖÂ
				ExchangeManIndex = -1
			end
			if Bbufftype == bufftype then --ÒªÑ¡ÔñtoÕ ðµ Õ½³µÀàÐÍºÍÒ°Íâ¶ªÆútoÕ ðµ Õ½³µÀàÐÍmµt ÖÂ
				ExchangeManIndex = -1
			end
			if BalreadyTankCount == 1 and (TankManFirst ~= 0 and CallScriptFunction(402047, "HaveTankBuff", sceneId, TankManFirst) ~= 0) then --1Íæ¼ÒºÍ1³¡¾°Õ½³µ
				ExchangeManIndex = 0
			end
		end
	end
	
	return ExchangeManIndex
end

--**********************************
-- ÕÒµ½mµt cái¿ÉÒÔ·ÅÕ½³µÍæ¼ÒselfIdtoÕ ðµ ¸±±¾Ë÷Òý,ÎÞÊýÁ¿ÅÐ¶Ï,Ö»ÕÒ¿ÕÍæ¼ÒË÷Òý
--**********************************
function x600051_FindEmptyTankManIndex( sceneId, selfId, IsAGuild )
	
	local TankManFirst = 0
	local TankManSecond = 0
	local ExchangeManIndex = 0 --Õâ´ÎÒª±ä»¯³ÉÕ½³µtoÕ ðµ manTÕi ¸±±¾Êý¾ÝÖÐtoÕ ðµ Ë÷Òý
	
	if IsAGuild == 1 then
		TankManFirst = LuaFnGetCopySceneData_Param( sceneId, x600051_g_A_FirstTankManSelfID )
		TankManSecond = LuaFnGetCopySceneData_Param( sceneId, x600051_g_A_SecondTankManSelfID )
	else
	 	TankManFirst = LuaFnGetCopySceneData_Param( sceneId, x600051_g_B_FirstTankManSelfID )
		TankManSecond = LuaFnGetCopySceneData_Param( sceneId, x600051_g_B_SecondTankManSelfID )
	end
	
	--ÕÒmµt cáiË÷Òý³öÀ´
	if TankManFirst == 0 or (TankManFirst ~= 0 and CallScriptFunction(402047, "HaveTankBuff", sceneId, TankManFirst) == 0) then
		if IsAGuild == 1 then
			ExchangeManIndex = x600051_g_A_FirstTankManSelfID
		else
			ExchangeManIndex = x600051_g_B_FirstTankManSelfID
		end
	elseif TankManSecond == 0 or (TankManSecond ~= 0 and CallScriptFunction(402047, "HaveTankBuff", sceneId, TankManSecond) == 0) then
		if IsAGuild == 1 then
			ExchangeManIndex = x600051_g_A_SecondTankManSelfID
		else
			ExchangeManIndex = x600051_g_B_SecondTankManSelfID
		end
	end
	
	return ExchangeManIndex
end

--**********************************
-- ¼ì²âTiªp thøÌõ¼þ
--**********************************
function x600051_CheckAccept( sceneId, selfId, targetId )
	return 1
end

--**********************************
--Tiªp thø
--**********************************
function x600051_OnAccept( sceneId, selfId, targetId )
end

--**********************************
--¼ÌÐø
--**********************************
function x600051_OnContinue( sceneId, selfId, targetId )
--	BeginEvent( sceneId )
--		AddText( sceneId, x600051_g_MissionName )
--		AddText( sceneId, "good ¼ÌÐø" )
--	EndEvent( )
--	DispatchMissionContinueInfo( sceneId, selfId, targetId, x600051_g_ScriptId, x600051_g_MissionId )
end

--**********************************
--·ÅÆú
--**********************************
function x600051_OnAbandon( sceneId, selfId )
end

--**********************************
--¼ì²âÐúng·ñ¿ÉÒÔÌá½»
--**********************************
function x600051_CheckSubmit( sceneId, selfId )
	return 1
end

--**********************************
--Ìá½»
--**********************************
function x600051_OnSubmit( sceneId, selfId, targetId, selectRadioId )
end

--**********************************
-- ¶Ô»°´°¿ÚÐÅÏ¢ÌáÊ¾
--**********************************
function x600051_NotifyFailBox( sceneId, selfId, targetId, msg )
	BeginEvent( sceneId )
		AddText( sceneId, msg )
	EndEvent( sceneId )
	DispatchEventList( sceneId, selfId, targetId )
end

--**********************************
-- ÆÁÄ»ÖÐ¼äÐÅÏ¢ÌáÊ¾
--**********************************
function x600051_NotifyFailTips( sceneId, selfId, Tip )
	BeginEvent( sceneId )
		AddText( sceneId, Tip )
	EndEvent( sceneId )
	DispatchMissionTips( sceneId, selfId )
end
